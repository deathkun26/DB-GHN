DROP DATABASE IF EXISTS TRANSFER_SYSTEM;
CREATE DATABASE TRANSFER_SYSTEM; 
USE TRANSFER_SYSTEM;

SET NAMES utf8 ;
SET character_set_client = utf8mb4 ;

CREATE TABLE NGUOI_DUNG (
    maND INT NOT NULL, 
    CMND CHAR(9) NOT NULL, 
    hotenND VARCHAR(30) NOT NULL,
    sodienthoaiND CHAR(10) NOT NULL,
    emailND VARCHAR(40),
    Tendangnhap VARCHAR(20) NOT NULL,
    Matkhau VARCHAR(20) NOT NULL,
    PRIMARY KEY (maND),
    UNIQUE (CMND, Tendangnhap),
    CHECK (maND >= 10000000 AND maND <= 99999999)
);
INSERT INTO NGUOI_DUNG
VALUES (12345678, '206368958', 'Trần Văn Thái', '0335370078', 'tvt@hcmut.edu.vn', 'tvt00', 'tvt1915121');
INSERT INTO NGUOI_DUNG
VALUES (13456782, '206368957', 'Phan Đinh Minh Toàn', '0335370077', 'pdmt@hcmut.edu.vn', 'pdmt00', 'tvt1915122');
INSERT INTO NGUOI_DUNG
VALUES (23456781, '206368956', 'Hoàng Khánh Ly', '0335370076', 'hkl@hcmut.edu.vn', 'hkl00', 'tvt1915123');
INSERT INTO NGUOI_DUNG
VALUES (34567812, '206368955', 'Nguyễn Hồng Dân', '0335370075', 'nhd@hcmut.edu.vn', 'nhd00', 'tvt1915124');

CREATE TABLE THONG_TIN_NGAN_HANG (
	maND INT NOT NULL,
    tentaikhoan VARCHAR(30) NOT NULL, -- ten tai khoan la ten nguoi dung viet khong dau
    sotaikhoan VARCHAR(20) NOT NULL,
    tennganhang VARCHAR(30) NOT NULL,
    PRIMARY KEY (maND, tentaikhoan, sotaikhoan, tennganhang),
    CHECK (maND >= 10000000 AND maND <= 99999999)
);
INSERT INTO THONG_TIN_NGAN_HANG
VALUES (12345678, 'TRAN VAN THAI', '001122334455', 'Ngân Hàng BBBank');
INSERT INTO THONG_TIN_NGAN_HANG
VALUES (13456782, 'PHAN DINH MINH TOAN', '123456123456', 'Ngân Hàng BBBank');
INSERT INTO THONG_TIN_NGAN_HANG
VALUES (23456781, 'HOANG KHANH LY', '1357924680', 'Ngân Hàng BBBank');
INSERT INTO THONG_TIN_NGAN_HANG
VALUES (34567812, 'NGUYEN HONG DAN', '998877665544', 'Ngân Hàng BBBank');

CREATE TABLE NHAN_VIEN (
    maND INT NOT NULL,
    PRIMARY KEY (maND),
    FOREIGN KEY (maND) REFERENCES NGUOI_DUNG(maND)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
INSERT INTO NHAN_VIEN
VALUES (13456782);
INSERT INTO NHAN_VIEN
VALUES (23456781);
INSERT INTO NHAN_VIEN
VALUES (34567812);

CREATE TABLE CHU_CUA_HANG (
    maND INT NOT NULL,
    PRIMARY KEY (maND),
    FOREIGN KEY (maND) REFERENCES NGUOI_DUNG(maND)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
INSERT INTO CHU_CUA_HANG
VALUES (12345678);

CREATE TABLE CUA_HANG (
    maCH INT NOT NULL,
    maCCH INT NOT NULL,
    tenCH VARCHAR(30) NOT NULL,
    diachiCH VARCHAR(100),
    sodienthoaiCH CHAR(10),
    trangthaiCH BOOL DEFAULT FALSE, -- FALSE la khong kich hoat, true la kich hoat. Bang hien thi duoi dang 0 / 1
    PRIMARY KEY (maCH),
    CHECK (maCH >= 1000000 AND maCH <= 9999999),
    FOREIGN KEY (maCCH) REFERENCES CHU_CUA_HANG(maND)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
INSERT INTO CUA_HANG
VALUES (1234567, 12345678, 'Cửa hàng DTLT 01', '268 Lý Thường Kiệt, phường 14, quận 10, Tp. Hồ Chí Minh', '0775453278', TRUE);
INSERT INTO CUA_HANG
VALUES (2345678, 12345678, 'Cửa hàng DTLT 02', '369 Ngô Quyền, phường An Hải Bắc, quận Sơn Trà, Tp. Đà Nẵng', '0775453277', TRUE);
INSERT INTO CUA_HANG
VALUES (3456789, 12345678, 'Cửa hàng DTLT 03', '262/13 Lũy Bán Bích, phường Hòa Thạnh, quận Tân Phú, Tp. Hồ Chí Minh', '0775453277', TRUE);

CREATE TABLE LAM_VIEC_TAI (
	maCH INT NOT NULL,
    maND INT NOT NULL,
    PRIMARY KEY (maCH, maND),
    FOREIGN KEY (maCH) REFERENCES CUA_HANG(maCH)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    FOREIGN KEY (maND) REFERENCES NHAN_VIEN(maND)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
INSERT INTO LAM_VIEC_TAI
VALUES (1234567, 13456782);
INSERT INTO LAM_VIEC_TAI
VALUES (1234567, 23456781);
INSERT INTO LAM_VIEC_TAI
VALUES (2345678, 23456781);
INSERT INTO LAM_VIEC_TAI
VALUES (2345678, 34567812);
INSERT INTO LAM_VIEC_TAI
VALUES (3456789, 13456782);
INSERT INTO LAM_VIEC_TAI
VALUES (1234567, 34567812); 

CREATE TABLE BUU_TA (
    maBT INT NOT NULL,
    CMND CHAR(9) NOT NULL,
    hotenBT VARCHAR(30) NOT NULL,
    sodienthoaiBT CHAR(10) NOT NULL,
    PRIMARY KEY (maBT),
    CHECK (maBT >= 1000 AND maBT <= 9999)
);
INSERT INTO BUU_TA
VALUES (1234, '206368960', 'Lê Bình Đẳng', '0335370069');
INSERT INTO BUU_TA
VALUES (5678, '206368961', 'Mai Hoàng Khải', '0335370068');
INSERT INTO BUU_TA
VALUES (2345, '206368962', 'Đặng Trung Kiên', '0335370067');
INSERT INTO BUU_TA
VALUES (3456, '206368963', 'Đặng Nguyễn Xuân Nam', '0335370066');

CREATE TABLE DIEM_GIAO_NHAN ( -- dia chi cua cac buu cuc
    sttDGN INT NOT NULL,
    khuvucDGN VARCHAR(30) NOT NULL,
    diachiDGN VARCHAR(100),
    sodienthoaiDGN CHAR(10) NOT NULL,
    PRIMARY KEY (sttDGN, khuvucDGN)
);
INSERT INTO DIEM_GIAO_NHAN
VALUES (1, 'Quận 10', '200 Lý Thường Kiệt, phường 14, quận 10, Tp. Hồ Chí Minh', '0775457880');
INSERT INTO DIEM_GIAO_NHAN
VALUES (2, 'Sơn Trà', '10 Ngô Quyền, phường An Hải Bắc, quận Sơn Trà, Tp. Đà Nẵng', '0775457880');
INSERT INTO DIEM_GIAO_NHAN
VALUES (3, 'Tân Phú', '31 Dân Chủ, Tân Phú, Tp. Hồ Chí Minh', '0775457880');
INSERT INTO DIEM_GIAO_NHAN
VALUES (4, 'Long Thành', 'Long Thành, Đồng Nai', '0775457881');
INSERT INTO DIEM_GIAO_NHAN
VALUES (5, 'KrôngAna', 'KrôngAna, Đắk Lắk', '0775457882');
INSERT INTO DIEM_GIAO_NHAN
VALUES (6, 'Thủ Đức', 'Thủ Đức, TPHCM', '0775457883');
INSERT INTO DIEM_GIAO_NHAN
VALUES (7, 'Yên Thành', 'Yên Thành, Nghệ An', '0775457884');
INSERT INTO DIEM_GIAO_NHAN
VALUES (8, 'Bình Thạnh', 'Bình Thạnh, TPHCM', '0775457885');
INSERT INTO DIEM_GIAO_NHAN
VALUES (9, 'Dĩ An', 'Dĩ An, Bình Dương', '0775457886');

CREATE TABLE DON_HANG (
    maVD INT NOT NULL,
    kichthuocDH INT NOT NULL, -- luu the tich
    diachitrahang VARCHAR(60), -- mac dinh la dia chi cua hang or others + app handle
    hotenNN VARCHAR(30) NOT NULL,
    sodienthoaiNN CHAR(10) NOT NULL,
    diachiNN VARCHAR(60) NOT NULL,
    sttDGN INT,
    khuvucDGN VARCHAR(30),
    maBT INT,
    calayhang BOOL DEFAULT TRUE, -- true la ca sang, false la ca chieu
    maCH INT NOT NULL,
    trangthai TINYINT DEFAULT 0, -- trang thai nhap, dang giao, hoan thanh
    ngaytaoDH DATE DEFAULT (DATE(CURRENT_TIMESTAMP)), -- THIEU
    PRIMARY KEY (maVD),
    FOREIGN KEY (sttDGN, khuvucDGN) REFERENCES DIEM_GIAO_NHAN(sttDGN, khuvucDGN)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    FOREIGN KEY (maBT) REFERENCES BUU_TA(maBT)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    FOREIGN KEY (maCH) REFERENCES CUA_HANG(maCH)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    CHECK (maVD >= 10000000 AND maVD <= 99999999),
    CHECK (trangthai >= 0 AND trangthai <= 2)
);
-- CH1
INSERT INTO DON_HANG
VALUES (11111111, 100, NULL, 'Trần Quang Huy', '0775337890', "Long Thành, Đồng Nai", 1, 'Quận 10', 1234, 1, 1234567, NULL, NULL);
INSERT INTO DON_HANG
VALUES (11111112, 150, NULL, 'Hà Duy Anh', '0772463000', "KrôngAna, Đắk Lắk", 1, 'Quận 10', 1234, 1, 1234567, NULL, NULL);
INSERT INTO DON_HANG
VALUES (11111113, 30, NULL, 'Lê Bình Đẳng', '0352123456', "Tân Phú, TPHCM", 1, 'Quận 10', 1234, 1, 1234567, NULL, NULL);
INSERT INTO DON_HANG
VALUES (11111114, 200, NULL, 'Nguyễn Công Thành', '0352123210', "Thủ Đức, TPHCM", 1, 'Quận 10', 5678, 2, 1234567, NULL, NULL);

-- CH2
INSERT INTO DON_HANG
VALUES (22222221, 100, NULL, 'Trần Quang Huy', '0775337890', "Long Thành, Đồng Nai", 2, 'Sơn Trà', 3456, 1, 2345678, NULL, NULL);
INSERT INTO DON_HANG
VALUES (22222222, 150, NULL, 'Hà Duy Anh', '0772463000', "KrôngAna, Đắk Lắk", 2, 'Sơn Trà', 3456, 2, 2345678, NULL, NULL);
INSERT INTO DON_HANG
VALUES (22222223, 30, NULL, 'Hoàng Khánh Ly', '0357500980', "Yên Thành, Nghệ An", 2, 'Sơn Trà', 3456, 2, 2345678, NULL, NULL);

-- CH3
INSERT INTO DON_HANG
VALUES (33333331, 100, NULL, 'Nguyễn Lan Hương', '0775337654', "Bình Thạnh, TPHCM", 3, 'Tân Phú', 2345, 1, 3456789, NULL, NULL);
INSERT INTO DON_HANG
VALUES (33333332, 112, NULL, 'Ngô Diễm Quỳnh', '0357896098', "Buôn Hồ, Đắk Lắk", 3, 'Tân Phú', 5678, 2, 3456789, NULL, NULL);
INSERT INTO DON_HANG
VALUES (33333333, 30, NULL, 'Hoàng Khánh Ly', '0357500980', "Yên Thành, Nghệ An", 3, 'Tân Phú', 2345, 2, 3456789, NULL, NULL);
INSERT INTO DON_HANG
VALUES (33333334, 112, NULL, 'Lê Thanh Sang', '0357896086', "Thủ Đức, TPHCM", 3, 'Tân Phú', 5678, 2, 3456789, NULL, NULL);
INSERT INTO DON_HANG
VALUES (33333335, 30, NULL, 'Lê Đức Khoan', '0357508876', "Dĩ An, Bình Dương", 3, 'Tân Phú', 2345, 1, 3456789, NULL, NULL);

CREATE TABLE SAN_PHAM (
    maVD INT NOT NULL,
    sttSP INT NOT NULL,
    tenSP VARCHAR(30),
    soluongSP INT,
    khoiluongSP INT, -- don vi gam
    PRIMARY KEY (maVD, sttSP),
    FOREIGN KEY (maVD) REFERENCES DON_HANG(maVD)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
-- CH1-DH1
INSERT INTO SAN_PHAM
VALUES (11111111, 1, 'Bút 1', 5, 5);
INSERT INTO SAN_PHAM
VALUES (11111111, 2, 'Bút 2', 5, 5);
INSERT INTO SAN_PHAM
VALUES (11111111, 3, 'Sách 1', 2, 10);

-- CH1-DH2
INSERT INTO SAN_PHAM
VALUES (11111112, 1, 'Sách 1', 2, 10);
INSERT INTO SAN_PHAM
VALUES (11111112, 2, 'Thước 1', 1, 3);

-- CH1-DH3
INSERT INTO SAN_PHAM
VALUES (11111113, 1, 'Bút 2', 2, 5);
INSERT INTO SAN_PHAM
VALUES (11111113, 2, 'Bút 3', 5, 5);
INSERT INTO SAN_PHAM
VALUES (11111113, 3, 'Sách 2', 2, 10);
INSERT INTO SAN_PHAM
VALUES (11111113, 4, 'Thước 1', 1, 3);

-- CH1-DH4
INSERT INTO SAN_PHAM
VALUES (11111114, 1, 'Bút 2', 2, 5);
INSERT INTO SAN_PHAM
VALUES (11111114, 2, 'Bút 3', 5, 5);
INSERT INTO SAN_PHAM
VALUES (11111114, 3, 'Sách 2', 2, 10);

-- CH2-DH1
INSERT INTO SAN_PHAM
VALUES (22222221, 1, 'Quần 1', 1, 50);
INSERT INTO SAN_PHAM
VALUES (22222221, 2, 'Áo 1', 2, 20);

-- CH2-DH2
INSERT INTO SAN_PHAM
VALUES (22222222, 1, 'Quần 2', 1, 50);

-- CH2-DH3
INSERT INTO SAN_PHAM
VALUES (22222223, 1, 'Áo 1', 1, 20);
INSERT INTO SAN_PHAM
VALUES (22222223, 2, 'Áo 2', 4, 20);
INSERT INTO SAN_PHAM
VALUES (22222223, 3, 'Áo 3', 2, 20);

-- CH3-DH1
INSERT INTO SAN_PHAM
VALUES (33333331, 1, 'Giày 1', 1, 100);
INSERT INTO SAN_PHAM
VALUES (33333331, 2, 'Sandal 1', 1, 100);
INSERT INTO SAN_PHAM
VALUES (33333331, 3, 'Sandal 2', 1, 100);

-- CH3-DH2
INSERT INTO SAN_PHAM
VALUES (33333332, 1, 'Giày 2', 1, 100);

-- CH3-DH3
INSERT INTO SAN_PHAM
VALUES (33333333, 1, 'Sandal 2', 2, 100);
INSERT INTO SAN_PHAM
VALUES (33333333, 2, 'Giày 2', 1, 100);
INSERT INTO SAN_PHAM
VALUES (33333333, 3, 'Giày 3', 1, 100);
INSERT INTO SAN_PHAM
VALUES (33333333, 4, 'Sandal 3', 1, 100);

-- CH3-DH4
INSERT INTO SAN_PHAM
VALUES (33333334, 1, 'Sandal 3', 1, 100);

-- CH3-DH5
INSERT INTO SAN_PHAM
VALUES (33333335, 1, 'Giày 1', 1, 100);
INSERT INTO SAN_PHAM
VALUES (33333335, 2, 'Giày 2', 1, 100);

CREATE TABLE GUI_TOI (
    maVD INT NOT NULL,
    sttDGN INT NOT NULL,
    khuvucDGN VARCHAR(30) NOT NULL,
    PRIMARY KEY (maVD),
    FOREIGN KEY (maVD) REFERENCES DON_HANG(maVD)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    FOREIGN KEY (sttDGN, khuvucDGN) REFERENCES DIEM_GIAO_NHAN(sttDGN, khuvucDGN)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
-- CH1-DH1
INSERT INTO GUI_TOI
VALUES (11111111, 1, 'Quận 10');
-- CH1-DH2
INSERT INTO GUI_TOI
VALUES (11111112, 1, 'Quận 10');
-- CH1-DH3
INSERT INTO GUI_TOI
VALUES (11111113, 1, 'Quận 10');
-- CH1-DH4
INSERT INTO GUI_TOI
VALUES (11111114, 1, 'Quận 10');

-- CH2-DH1
INSERT INTO GUI_TOI
VALUES (22222221, 2, 'Sơn Trà');
-- CH2-DH2
INSERT INTO GUI_TOI
VALUES (22222222, 2, 'Sơn Trà');
-- CH2-DH3
INSERT INTO GUI_TOI
VALUES (22222223, 2, 'Sơn Trà');

-- CH3-DH1
INSERT INTO GUI_TOI
VALUES (33333331, 3, 'Tân Phú');
-- CH3-DH2
INSERT INTO GUI_TOI
VALUES (33333332, 3, 'Tân Phú');
-- CH3-DH3
INSERT INTO GUI_TOI
VALUES (33333333, 3, 'Tân Phú');
-- CH3-DH4
INSERT INTO GUI_TOI
VALUES (33333334, 3, 'Tân Phú');
-- CH3-DH5
INSERT INTO GUI_TOI
VALUES (33333335, 3, 'Tân Phú');

CREATE TABLE TRA_HANG (
    maVD INT NOT NULL,
    sttDGN INT NOT NULL,
    khuvucDGN VARCHAR(30) NOT NULL,
    PRIMARY KEY (maVD),
    FOREIGN KEY (maVD) REFERENCES DON_HANG(maVD)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    FOREIGN KEY (sttDGN, khuvucDGN) REFERENCES DIEM_GIAO_NHAN(sttDGN, khuvucDGN)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
INSERT INTO TRA_HANG
VALUES (11111113, 1, 'Quận 10');
INSERT INTO TRA_HANG
VALUES (33333335, 3, 'Tân Phú');

CREATE TABLE YEU_CAU_HO_TRO (
    maYC INT NOT NULL,
	loaiYC TINYINT NOT NULL,
    noidungYC VARCHAR(1000),
    trangthaiYC TINYINT NOT NULL DEFAULT 0, -- 0: da gui / 1: dang xu ly / 2: hoan thanh
    PRIMARY KEY(maYC),
    CHECK (maYC >= 10000000 AND maYC <= 99999999),
    CHECK (loaiYC >= 0 AND loaiYC <= 3),
    CHECK (trangthaiYC >= 0 AND trangthaiYC <= 2)
);
INSERT INTO YEU_CAU_HO_TRO
VALUES (99000000, 1, 'Yêu cầu hỗ trợ', 0);

CREATE TABLE GUI_YEU_CAU (
    maND INT NOT NULL,
    maYC INT NOT NULL,
    maVD INT NOT NULL,
    thoigiangui DATE DEFAULT (DATE(CURRENT_TIMESTAMP)),
    PRIMARY KEY (maND,maYC),
    FOREIGN KEY (maND) REFERENCES NGUOI_DUNG(maND)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    FOREIGN KEY (maYC) REFERENCES YEU_CAU_HO_TRO(maYC)
    ON UPDATE CASCADE
    ON DELETE CASCADE,
    FOREIGN KEY (maVD) REFERENCES DON_HANG(maVD)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);
INSERT INTO GUI_YEU_CAU
VALUES (34567812, 99000000, 33333331, NULL);


-- CREATE TABLE NHOM_QUYEN (
--     maCCH CHAR(15) NOT NULL,
--     tenNQ VARCHAR(30) NOT NULL,
--     motaNQ VARCHAR(1000),
--     PRIMARY KEY (maCCH, tenNQ),
--     FOREIGN KEY (maCCH) REFERENCES CHU_CUA_HANG(maND)
--     ON UPDATE CASCADE
--     ON DELETE CASCADE
-- );
-- INSERT INTO NHOM_QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Quyền cao nhất của người dùng');
-- INSERT INTO NHOM_QUYEN
-- VALUES ('000000000000004', 'Nhân viên', 'Quyền mặc định của nhân viên thuộc 1 cửa hàng');

-- CREATE TABLE QUYEN (
--     maCCH CHAR(15) NOT NULL,
--     tenNQ VARCHAR(30) NOT NULL,
--     Quyen VARCHAR(500),
--     PRIMARY KEY (maCCH, tenNQ),
--     FOREIGN KEY (maCCH) REFERENCES NHOM_QUYEN(maCCH)
--     ON UPDATE CASCADE
--     ON DELETE CASCADE,
--     FOREIGN KEY (tenNQ) REFERENCES NHOM_QUYEN(tenNQ)
--     ON UPDATE CASCADE
--     ON DELETE CASCADE
-- );
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Cập nhật cửa hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Thêm nhân viên vào cửa hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Thêm người dùng vào nhóm quyền');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Xem cửa hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Xem danh sách nhân viên của cửa hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Xoá nhân viên khỏi cửa hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Chỉnh sửa đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Tạo đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Huỷ đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Xem chi tiết đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Xem danh sách đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Yêu cầu giao lại đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Yêu cầu trả hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Cập nhật yêu cầu hỗ trợ');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Tạo yêu cầu hỗ trợ');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Xem chi tiết yêu cầu.hỗ trợ');
-- INSERT INTO QUYEN
-- VALUES ('000000000000003', 'Chủ cửa hàng', 'Xem danh sách yêu cầu hỗ trợ');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Chỉnh sửa đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Tạo đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Huỷ đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Xem chi tiết đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Xem danh sách đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Yêu cầu giao lại đơn hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Yêu cầu trả hàng');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Cập nhật yêu cầu hỗ trợ');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Tạo yêu cầu hỗ trợ');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Xem chi tiết yêu cầu.hỗ trợ');
-- INSERT INTO QUYEN
-- VALUES ('000000000000002', 'Nhân viên', 'Xem danh sách yêu cầu hỗ trợ');

-- CREATE TABLE PHAN_QUYEN (
--     maCH CHAR(20) NOT NULL,
--     maNV CHAR(15) NOT NULL,
--     maCCH CHAR(15) NOT NULL,
--     tenNQ VARCHAR(30) NOT NULL,
--     PRIMARY KEY (maCH, maNV),
--     FOREIGN KEY (maCH) REFERENCES CUA_HANG(maCH),
--     FOREIGN KEY (maNV) REFERENCES NHAN_VIEN(maND),
--     FOREIGN KEY (maCCH) REFERENCES CHU_CUA_HANG(maND),
--     FOREIGN KEY (tenNQ) REFERENCES NHOM_QUYEN(tenNQ) 
-- ); 
-- INSERT INTO PHAN_QUYEN
-- VALUES ('00000000000000000001', '000000000000002', '000000000000003', 'Nhân viên');
-- chủ cửa hàng - chủ cửa hàng

-- CREATE TABLE KHUYEN_MAI (
--     maKM CHAR(8) NOT NULL,
--     motaKM VARCHAR(500),
--     luongtiengiam FLOAT(1),
--     giatoithieu INT,
--     giamtoida INT,
--     PRIMARY KEY (maKM),
--     CHECK (luongtiengiam > 0 AND luongtiengiam <= 1)
-- );
-- INSERT INTO KHUYEN_MAI
-- VALUES ('HA000001', 'Giảm 15% cho khách hàng mới có đơn hàng trị giá hơn 100.000 VNĐ, tối đa 50.000 VNĐ', 0.15, 100000, 50000);
-- INSERT INTO KHUYEN_MAI
-- VALUES ('ME000001', 'Giảm 20% cho mọi đơn hàng trị giá hơn 100.000 VNĐ, tối đa 50.000 VNĐ', 0.2, 100000, 50000);